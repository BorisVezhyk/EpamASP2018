@model Common.Article

@{
	ViewBag.Title = "Article";
}

<div>
	<h1 class="mt-4"> @Model.Caption</h1>
	<p class="lead">
		Author by <a href="#">@Model.User.Name </a>

	</p>
	<hr />
	<p>Posted on @Model.Date.ToShortDateString() </p>
	<hr />
	<img class="img-fluid rounded" src="@Model.Image" alt="" />
	<hr />
	<p class="lead">
		@Model.Text
	</p>
	@if (Model.Video != null)
	{
		<div class="embed-responsive embed-responsive-16by9">
			<iframe class="embed-responsive-item" src="@Model.Video" allowfullscreen></iframe>
		</div>
	}
	<p class="lead">
		Tags:
		@foreach (var link in @Model.Tags)
		{
			<a class="badge badge-secondary" href="#">@link.TagName</a>
		}
	</p>
	@if (@Model.User.Name == User.Identity.Name)
	{
		<hr />
		<div class="row justify-content-center">
			<p class="lead">This is your article. You can update or delete its.</p>
		</div>
		<div class="row justify-content-around">
			@Html.ActionLink("Delete", "Delete", "Article", new { articleId = Model.ArticleId }, new { @class = "btn btn-danger", id = "delete-btn" })
			@Html.ActionLink("Update","UpdateArticle","Article",new{id=Model.ArticleId},new{@class="btn btn-success"})
		</div>
	}
</div>


@section Scripts {
	@Scripts.Render("~/bundles/jqueryval")
}
<script src="~/Scripts/jquery-3.3.1.min.js" type="text/javascript"></script>
<script type="text/javascript">
	$(function () {
		$("#delete-btn").click(function () {
			var answer = confirm("You will delete the artile. Are you sure?");
			if (answer) {
				return true;
			} else {
				return false;
			}
		});
	});
	
</script>